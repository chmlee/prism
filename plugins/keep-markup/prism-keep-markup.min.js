"undefined"!=typeof self&&self.Prism&&self.document&&document.createRange&&(Prism.plugins.KeepMarkup=!0,Prism.hooks.add("before-highlight",function(e){var s,a,l;e.element.children.length&&Prism.util.isActive(e.element,"keep-markup",!0)&&(s=0,a=[],(l=function(e,n){var o={};n||(o.clone=e.cloneNode(!1),o.posOpen=s,a.push(o));for(var t=0,d=e.childNodes.length;t<d;t++){var r=e.childNodes[t];1===r.nodeType?l(r):3===r.nodeType&&(s+=r.data.length)}n||(o.posClose=s)})(e.element,!0),a&&a.length&&(e.keepMarkup=a))}),Prism.hooks.add("after-highlight",function(n){var r;n.keepMarkup&&n.keepMarkup.length&&(r=function(e,n){for(var o=0,t=e.childNodes.length;o<t;o++){var d=e.childNodes[o];if(1===d.nodeType){if(!r(d,n))return!1}else 3===d.nodeType&&(!n.nodeStart&&n.pos+d.data.length>n.node.posOpen&&(n.nodeStart=d,n.nodeStartPos=n.node.posOpen-n.pos),n.nodeStart&&n.pos+d.data.length>=n.node.posClose&&(n.nodeEnd=d,n.nodeEndPos=n.node.posClose-n.pos),n.pos+=d.data.length);if(n.nodeStart&&n.nodeEnd){d=document.createRange();return d.setStart(n.nodeStart,n.nodeStartPos),d.setEnd(n.nodeEnd,n.nodeEndPos),n.node.clone.appendChild(d.extractContents()),d.insertNode(n.node.clone),d.detach(),!1}}return!0},n.keepMarkup.forEach(function(e){r(n.element,{node:e,pos:0})}),n.highlightedCode=n.element.innerHTML)}));